{"version":3,"sources":["components/Reader/Reader.module.css","components/Counter/Counter.module.css","components/Publication/Publication.js","components/Controls/Controls.js","components/Counter/Counter.js","components/Reader/Reader.js","routes.js","components/App/App.js","index.js","components/Publication/Publication.module.css","components/Controls/Controls.module.css"],"names":["module","exports","Publication","publication","numberPage","className","styles","title","text","Controls","onBack","onForward","controls","type","onClick","disabled","button","Counter","totalValue","counter","Reader","state","parseQueryParams","location","props","prevItem","URLSearchParams","search","get","setState","Number","saveItem","item","history","push","forwardHandler","step","backHandler","this","publications","length","prevProps","prevState","reader","Component","defaultProps","App","path","routes","exact","render","to","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.05114143.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__2W0rS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__YnIJP\"};","// Core\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// styles\nimport styles from './Publication.module.css';\n\nconst Publication = ({ publication, numberPage }) => (\n  <article className={styles.publication}>\n    <h2 className={styles.title}>\n      {numberPage}.{publication.title}\n    </h2>\n    <p className={styles.text}>{publication.text}</p>\n  </article>\n);\n\nPublication.propTypes = {\n  publication: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n  }).isRequired,\n  numberPage: PropTypes.number.isRequired,\n};\n\nexport default Publication;\n","// Core\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// Styles\nimport styles from './Controls.module.css';\n\nconst Controls = ({ numberPage, onBack, onForward }) => (\n  <section className={styles.controls}>\n    <button\n      type=\"button\"\n      onClick={onBack}\n      disabled={numberPage === 1}\n      className={styles.button}\n    >\n      Назад\n    </button>\n    <button\n      type=\"button\"\n      onClick={onForward}\n      disabled={numberPage > 11}\n      className={styles.button}\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  numberPage: PropTypes.number.isRequired,\n  onBack: PropTypes.func.isRequired,\n  onForward: PropTypes.func.isRequired,\n};\n\nexport default Controls;\n","// Core\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// Styles\nimport styles from './Counter.module.css';\n\nconst Counter = ({ numberPage, totalValue }) => (\n  <p className={styles.counter}>\n    {numberPage}/ {totalValue}\n  </p>\n);\n\nCounter.propTypes = {\n  totalValue: PropTypes.number.isRequired,\n  numberPage: PropTypes.number.isRequired,\n};\n\nexport default Counter;\n","// Core\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\n// Styles\nimport styles from './Reader.module.css';\n\n// Components\nimport Publication from '../Publication';\nimport Controls from '../Controls';\nimport Counter from '../Counter';\n\nclass Reader extends Component {\n  static defaultProps = {\n    step: 1,\n  };\n\n  static propTypes = {\n    publications: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        title: PropTypes.string.isRequired,\n        text: PropTypes.string.isRequired,\n      }),\n    ).isRequired,\n    location: PropTypes.objectOf(PropTypes.string).isRequired,\n    history: PropTypes.oneOfType([PropTypes.number, PropTypes.object])\n      .isRequired,\n    step: PropTypes.number,\n  };\n\n  state = {\n    numberPage: 1,\n  };\n\n  componentDidMount() {\n    const { location, publications, step } = this.props;\n\n    if (!location.search) {\n      this.saveItem(step);\n    }\n\n    const item = new URLSearchParams(location.search).get('item');\n    if (item > publications.length || item < step) {\n      this.saveItem(step);\n      return;\n    }\n\n    this.setState({ numberPage: Number(item) });\n    // this.parseQueryParams();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { location } = this.props;\n\n    const prevItem = new URLSearchParams(location.search).get('item');\n\n    const nextItem = new URLSearchParams(prevProps.location.search).get('item');\n\n    if (prevItem === nextItem) return;\n\n    this.parseQueryParams();\n  }\n\n  parseQueryParams = () => {\n    const { location } = this.props;\n    const prevItem = new URLSearchParams(location.search).get('item');\n\n    this.setState({\n      numberPage: Number(prevItem),\n    });\n  };\n\n  saveItem = item => {\n    this.props.history.push({\n      ...this.props.location,\n      search: `item=${item}`,\n    });\n  };\n\n  forwardHandler = () => {\n    this.saveItem(this.state.numberPage + this.props.step);\n  };\n\n  backHandler = () => {\n    this.saveItem(this.state.numberPage - this.props.step);\n  };\n\n  render() {\n    const { numberPage } = this.state;\n    const { publications } = this.props;\n    const totalValue = publications.length;\n\n    return (\n      <div className={styles.reader}>\n        <Controls\n          numberPage={numberPage}\n          onBack={this.backHandler}\n          onForward={this.forwardHandler}\n        />\n\n        <Counter numberPage={numberPage} totalValue={totalValue} />\n\n        {numberPage && (\n          <Publication\n            publication={publications[numberPage - 1]}\n            numberPage={numberPage}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Reader;\n","export default {\n  READER: '/reader',\n  FIRST_ITEM: '/reader?item=1',\n};\n","// Core\nimport React from 'react';\n\n// routing\nimport { BrowserRouter, Route, Redirect, Switch } from 'react-router-dom';\n\n// Components\nimport Reader from '../Reader';\n\n// server\nimport publications from '../../server/publications.json';\nimport routes from '../../routes';\n\nconst App = () => (\n  <BrowserRouter>\n    <Switch>\n      <Route\n        path={routes.READER}\n        exact\n        render={props => <Reader {...props} publications={publications} />}\n      />\n      <Redirect to={routes.FIRST_ITEM} />\n    </Switch>\n  </BrowserRouter>\n);\n\n// <Reader publications={publications} />;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__1fpv0\",\"title\":\"Publication_title__1o1MK\",\"text\":\"Publication_text__31l6H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__2CN9Q\",\"button\":\"Controls_button__5HlnV\"};"],"sourceRoot":""}